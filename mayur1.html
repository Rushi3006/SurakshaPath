<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Suraksha Path – Smart Tourist Safety</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
  <style>
    :root {
      --main: #1a9df7;
      --main-dark: #156ba0;
      --accent: #27c9a5;
      --danger: #fe4b60;
      --danger-dark: #b91a2d;
    }
    html, body {
      margin: 0; padding: 0;
      background: linear-gradient(120deg, #e0ecff 0%, #f4f9ff 100%);
      min-height: 100vh;
      font-family: 'Roboto', Arial, sans-serif;
      color: #212d40;
      scroll-behavior: smooth;
    }
    .page { display: none; padding: 20px; animation: fadeIn 0.7s cubic-bezier(.4,2,.6,1);}
    @keyframes fadeIn { from { opacity:0; transform:translateY(32px);} to { opacity:1; transform:translateY(0);} }
    .landing-container {
      min-height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center;

    }
    .landing-container img {
      max-width: 200px; margin-bottom: 18px; border-radius: 25px;
      box-shadow: 0 8px 32px rgba(26,157,247,0.13);
      border: 5px solid #fff; background: #fff;
    }
    .title {
      font-family: 'Montserrat', Arial, sans-serif; font-size: 2.5em; font-weight: 700; margin: 8px 0 0 0;
      letter-spacing: 1.3px; color: #fff; text-shadow: 0 2px 18px #27c9a533;
    }
    .subtitle {
      font-family: 'Montserrat', Arial, sans-serif; font-size: 1.2em; font-weight: 500; color: #eafffa;
      margin-bottom: 26px; letter-spacing: 0.2px; text-shadow: 0 1px 10px #1a9df711;
    }
    .landing-buttons {
      display: flex; gap: 14px; margin-top: 22px;
    }
    .landing-buttons button {
      font-family: 'Montserrat', Arial, sans-serif; font-size: 1.13em; padding: 15px 32px; border: none;
      border-radius: 13px; font-weight: bold; cursor: pointer; box-shadow: 0 2px 12px #1a9df733;
      transition: background 0.22s, color 0.14s, box-shadow 0.19s;
    }
    .tourist-btn { background: #fff; color: var(--main);}
    .tourist-btn:hover { background: #e6f7ff; color: #156ba0;}
    .police-btn { background: var(--danger); color: #fff;}
    .police-btn:hover { background: var(--danger-dark); }
    .card {
      background: rgba(255,255,255,0.99); padding: 38px 30px 25px 30px; border-radius: 22px;
      box-shadow: 0 12px 48px rgba(26,157,247,0.13), 0 2px 8px rgba(17,78,96,0.10);
      width: 100%; max-width: 420px; margin: 30px auto 18px auto; text-align: left;
      position: relative; overflow: visible; animation: fadeInDown 1.1s cubic-bezier(.4,2,.6,1) 0.1s both;
    }
    @keyframes fadeInDown { from { opacity:0; transform:translateY(-60px);} to { opacity:1; transform:translateY(0);} }
    .card .form-title {
      text-align: center; font-family: 'Montserrat', Arial, sans-serif; font-weight: 700; font-size: 1.5em;
      color: var(--main); margin-bottom: 8px; letter-spacing: 0.8px;
    }
    .card label {
      font-size: 1em; color: #156ba0; margin-bottom: 2px; text-align: left; font-weight: 600;
      display: block; margin-top: 13px; letter-spacing: 0.12px;
    }
    .card input, .card select {
      padding: 13px 13px 13px 13px; border-radius: 10px; border: 1.7px solid #a4d8ff; font-size: 1.07em; outline: none;
      margin-bottom: 2px; background: #f6fbff; font-family: inherit; box-shadow: 0 1px 4px rgba(26,157,247,0.04);
      transition: border 0.21s, box-shadow 0.21s; width: 100%;
    }
    .card input:focus, .card select:focus {
      border: 1.7px solid var(--main); box-shadow: 0 0 0 2px #1a9df722;
    }
    .card button {
      padding: 13px; width: 100%; border: none; background: linear-gradient(89deg, #1a9df7, #27c9a5 90%);
      color: white; border-radius: 10px; font-size: 1.18em; font-family: 'Montserrat', Arial, sans-serif;
      font-weight: bold; box-shadow: 0 2px 14px #27c9a514; cursor: pointer; margin-top: 17px;
      transition: background 0.2s, box-shadow 0.2s; letter-spacing: 0.2px;
    }
    .card button:hover { background: linear-gradient(89deg, #156ba0, #27c9a5 90%);}
    .custom-file-input {
      position: relative; display: inline-block; width: 100%; height: 46px; margin: 0; margin-top: 11px;
    }
    .custom-file-input input[type="file"] {
      position: absolute; left: 0; top: 0; width: 100%; height: 100%; opacity: 0; cursor: pointer;
    }
    .file-label {
      display: block; background: linear-gradient(89deg,#e0f7fa 40%,#baf8e8 100%); color: #156ba0;
      border: 2px dashed #27c9a5; border-radius: 10px; padding: 12px 0; font-size: 1.09em; cursor: pointer;
      transition: background 0.22s, border 0.19s; width: 100%; margin-bottom: 0; text-align: center;
      font-family: 'Montserrat', Arial, sans-serif; font-weight: 600; letter-spacing: 0.2px;
    }
    .file-label.selected { background: #e0f7fa; border: 2px solid #156ba0; }
    .file-preview { margin: 8px 0 0 0; text-align: center; }
    .file-preview img {
      width: 52px; height: 52px; border-radius: 50%; object-fit: cover; border: 2px solid #27c9a5;
      box-shadow: 0 2px 8px #27c9a522; background: #f5fafb;
    }
    .form-note { color: #5c6e7a; font-size: 0.97em; margin: 15px 0 0 0; font-style: italic; letter-spacing: 0.1px; text-align: center;}
    /* ID Card Page */
    #idCardPage { display: none; padding: 36px 0 0 0; min-height: 100vh; background: linear-gradient(120deg, #e0ecff 0%, #f4f9ff 100%);}
    .container {
      max-width: 540px; margin: 0 auto 38px auto; background: #fff; border-radius: 18px; box-shadow: 0 8px 32px rgba(26,157,247,0.17);
      padding: 34px 32px 28px 32px; text-align: center; position: relative;
    }
    .blockchain-badge {
      background: #212121; color: #fff; padding: 7px 22px; border-radius: 18px; font-size: 1em; position: absolute;
      top: -20px; left: 50%; transform: translateX(-50%); letter-spacing: 1px; box-shadow: 0 2px 8px #1a9df733;
      font-family: 'Roboto', Arial, sans-serif;
    }
    .id-title {
      margin-top: 16px; font-size: 2.05em; color: #156ba0; letter-spacing: 1.5px; margin-bottom: 12px;
      font-family: 'Montserrat', Arial, sans-serif; font-weight: 700;
    }
    .container .subtitle {
      color: #27c9a5; font-size: 1.1em; margin-bottom: 22px; font-weight: 600; font-family: 'Montserrat', Arial, sans-serif;
    }
    .id-card-demo {
      background: linear-gradient(100deg, #e0f7fa 60%, #c5e1a5 100%);
      border-radius: 16px; box-shadow: 0 2px 14px #27c9a511; width: 96%; margin: 28px auto 12px auto;
      padding: 26px 20px 18px 20px; display: flex; align-items: center; gap: 24px; min-height: 110px;
      transition: box-shadow 0.3s; position: relative; border: 1.5px solid #27c9a5;
    }
    .id-photo { width: 80px; height: 80px; border-radius: 50%; background: #b2dfdb; border: 3px solid #1a9df7; box-shadow: 0 2px 10px #1a9df714; object-fit: cover; overflow: hidden;}
    .id-info {
      font-size: 1.11em; color: #156ba0; text-align: left; flex: 1; font-family: 'Roboto', Arial, sans-serif;
    }
    .id-info strong {
      display: block; color: #27c9a5; font-weight: 700; font-size: 1.21em; margin-bottom: 2px; font-family: 'Montserrat', Arial, sans-serif;
    }
    .qr-code { width: 70px; height: 70px; background: #fff; border: 2px dashed #27c9a5; display: flex; align-items: center; justify-content: center; border-radius: 8px; margin-left: 10px; margin-right: 0;}
    .qr-code img { width: 55px; height: 55px; opacity: 0.92;}
    .issue-locations { margin-top: 22px; color: #156ba0; font-size: 1.07em; letter-spacing: 0.1px;}
    .issue-locations span { background: #1a9df7; color: #fff; border-radius: 12px; padding: 3px 12px; margin: 0 6px; font-size: 0.98em;}
    .id-card-appear { animation: cardAppear 1s cubic-bezier(.4,2,.6,1) forwards; opacity: 0; transform: scale(0.96) translateY(90px);}
    @keyframes cardAppear { to { opacity: 1; transform: scale(1) translateY(0); } }
    header { display: flex; justify-content: space-between; align-items: center;}
    header h2 { margin: 0; font-family: 'Montserrat', Arial, sans-serif;}
    .profile-card {
      display: flex; align-items: center; background: #fff; padding: 10px; border-radius: 12px; margin: 10px 0;
      box-shadow: 0 3px 8px #1a9df711; justify-content: center;
    }
    .avatar { font-size: 40px; margin-right: 15px;}
    .info-grid {
      display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin: 20px 0;
    }
    .info-card {
      padding: 15px; border-radius: 10px; color: white; font-weight: bold; font-family: 'Montserrat', Arial, sans-serif;
      font-size: 1.08em; box-shadow: 0 1px 6px #27c9a511;
    }
    .green { background: #0bbf5c; }
    .yellow { background: #ffc107; color: #222;}
    .red { background: #fe4b60; }
    .bottom-nav, .menu {
      position: fixed; bottom: 0; left: 0; right: 0; display: flex; justify-content: space-around; background: #1a9df7;
      padding: 10px; z-index: 5; border-radius: 22px 22px 0 0; box-shadow: 0 -2px 12px #1a9df711;
    }
    .menu button, .bottom-nav button {
      background: transparent; color: white; border: none; font-weight: bold; font-family: 'Montserrat', Arial, sans-serif;
      font-size: 1.07em; cursor: pointer; transition: color 0.18s; border-bottom: 2px solid transparent;
    }
    .menu button:hover, .bottom-nav button:hover { color: #ffc107; border-bottom: 2px solid #27c9a5;}
    #mapContainer {
      height: 390px; width: 97%; margin: 24px auto 0 auto; border-radius: 13px;
      background: #e0f7fa url('https://cdn.pixabay.com/photo/2017/08/30/07/52/world-2694849_1280.jpg') center/cover no-repeat;
      box-shadow: 0 3px 8px #1a9df711; display: flex; align-items: center; justify-content: center; font-size: 2em; color: #156ba0; font-weight: bold;
    }
    .panic-btn {
      font-size: 2.1em; background: var(--danger); color: #fff; border: none; padding: 50px; border-radius: 50%;
      cursor: pointer; margin-top: 70px; box-shadow: 0 8px 32px #fe4b6017; transition: background 0.2s, box-shadow 0.2s;
    }
    .panic-btn:hover { background: var(--danger-dark);}
    .panel {
      background: #fff; border-radius: 12px; padding: 20px; margin: 20px 0; text-align: left; box-shadow: 0 3px 8px #1a9df711;
    }
    .police-dashboard-table-container {
      width: 100%; overflow-x: auto; margin-bottom: 24px;
    }
    #policeTouristTable {
      min-width: 800px; table-layout: auto; width: 100%;
    }
    #policeTouristTable th, #policeTouristTable td {
      white-space: nowrap; padding: 8px 10px; text-align: center;
    }
    #policeTouristTable th.date-col, #policeTouristTable td.date-col {
      min-width: 110px;
    }
    th { background: #1a9df7; color: white; }
    .alerts ul { list-style: none; padding: 0;}
    .alerts li { margin: 5px 0; color: var(--danger); font-weight: bold; }
    .slideshow-container {
      position: relative; max-width: 100%; margin: auto;
    }
    .slides img {
      width: 82%; border-radius: 12px; box-shadow: 0 3px 8px #27c9a522;
    }
    /* Tourist Places Gallery */
    .places-gallery {
      margin: 30px 0 0 0;
      display: flex;
      flex-wrap: wrap;
      gap: 18px;
      justify-content: center;
    }
    .place-card {
      background: #fff;
      box-shadow: 0 3px 16px #1a9df713;
      border-radius: 14px;
      overflow: hidden;
      width: 230px;
      transition: box-shadow 0.2s, transform 0.2s;
      text-align: left;
    }
    .place-card:hover { box-shadow: 0 8px 28px #1a9df722; transform: translateY(-5px);}
    .place-img-wrap { width: 100%; height: 140px; overflow: hidden; }
    .place-img-wrap img { width: 100%; height: 140px; object-fit: cover; }
    .place-desc {
      padding: 10px 14px 9px 14px;
      font-size: 1.08em;
      color: #156ba0;
      font-family: 'Montserrat', Arial, sans-serif;
    }
    @media (max-width: 900px) {
      .info-grid { grid-template-columns: 1fr 1fr; }
      .slideshow-container img { width: 97%;}
      .places-gallery { gap: 8px;}
      .place-card { width: 170px;}
      .place-img-wrap { height: 90px;}
      .place-img-wrap img { height: 90px;}
    }
    @media (max-width: 650px) {
      .container, .login-container, .card { padding: 14px 2vw; }
      .profile-card { flex-direction: column; text-align: center;}
      .info-grid { grid-template-columns: 1fr; }
      .id-title { font-size: 1.3em;}
      .id-card-demo { flex-direction: column; gap: 8px;}
      .id-info { text-align: center;}
      .qr-code { margin: 12px auto 0 auto;}
      .landing-container img { max-width: 90vw;}
      .bottom-nav, .menu { border-radius: 18px 18px 0 0;}
      .places-gallery { flex-direction: column; align-items: center;}
    }
    /* Background slideshow styles */
#bgSlideshow {
  position: fixed;
  top: 0; left: 0; width: 100vw; height: 100vh;
  z-index: 0;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  transition: background-image 1.2s;
  opacity: 0.7;
  pointer-events: none;
}
body > .page, body > div.page {
  position: relative;
  z-index: 2;
}
  </style>
</head>
<body>
  <body>
  <!-- Background Slideshow -->
  <div id="bgSlideshow"></div>
  <!-- ...existing code... -->
  <!-- Landing Page -->
  <div id="landing" class="page" style="display:block;">
    <div class="landing-container">
      <img src="WhatsApp Image 2025-09-18 at 21.34.47_32b59fd7.jpg" alt="Suraksha Path Logo">
      <h1 class="title">Suraksha Path</h1>
      <p class="subtitle">Smart Tourist Safety & Monitoring System</p>
      <div class="landing-buttons">
        <button class="tourist-btn" onclick="showPage('login')">👤 Tourist App</button>
        <button class="police-btn" onclick="showPage('loginPage')">🚔 Police Dashboard</button>
      </div>
    </div>
  </div>

  <!-- Tourist LOGIN PAGE -->
  <div id="login" class="page">
    <div class="card" style="margin-top:32px;">
      <div class="form-title">Tourist Login</div>
      <div id="loginStep1">
        <label for="aadhaarInput">Aadhaar / Passport No</label>
        <input type="text" id="aadhaarInput" placeholder="Enter Aadhaar / Passport No" required/>
        <button id="sendOtpBtn" onclick="sendOtp()">Send OTP</button>
      </div>
      <div id="otpSection" style="display:none;">
        <label for="otpInput">Enter OTP</label>
        <input type="text" id="otpInput" placeholder="Enter OTP" required/>
        <label for="nameInput">Name</label>
        <input type="text" id="nameInput" placeholder="Enter Your Name" required/>
        <label for="languageInput">Preferred Language</label>
        <select id="languageInput" required>
          <option value="">Select Language</option>
          <option>English</option>
          <option>हिंदी (Hindi)</option>
          <option>বাংলা (Bengali)</option>
          <option>मराठी (Marathi)</option>
          <option>தமிழ் (Tamil)</option>
          <option>తెలుగు (Telugu)</option>
          <option>ಕನ್ನಡ (Kannada)</option>
          <option>ગુજરાતી (Gujarati)</option>
          <option>ਪੰਜਾਬੀ (Punjabi)</option>
          <option>অসমীয়া (Assamese)</option>
          <option>ଓଡ଼ିଆ (Odia)</option>
          <option>Other</option>
        </select>
        <label for="locationInput">Trip Location</label>
        <input type="text" id="locationInput" placeholder="Enter Trip Location" required/>
        <div style="display:flex; gap:10px;">
          <div style="flex:1;">
            <label for="startDateInput">Trip Start Date</label>
            <input type="date" id="startDateInput" required>
          </div>
          <div style="flex:1;">
            <label for="endDateInput">Trip End Date</label>
            <input type="date" id="endDateInput" required>
          </div>
        </div>
        <label for="emergencyInput">Emergency Contact</label>
        <input type="tel" id="emergencyInput" placeholder="Emergency Contact Number" required/>
        <div class="custom-file-input">
          <label class="file-label" id="fileLabel" for="photoUpload">Upload Your Photo</label>
          <input type="file" accept="image/*" id="photoUpload" required>
        </div>
        <div class="file-preview" id="photoPreview"></div>
        <button onclick="generateDigitalID()">Generate Digital ID</button>
      </div>
      <div class="form-note">Your identity is <span style="color:#27c9a5">encrypted</span> and never shared without consent.</div>
    </div>
  </div>

  <!-- ID CARD PAGE (separate) -->
  <div id="idCardPage" class="page">
    <div id="idCardArea"></div>
  </div>

  <!-- Tourist Dashboard -->
  <div id="dashboard" class="page">
    <header><h2>Tourist Dashboard</h2></header>
    <div class="profile-card">
      <div class="avatar" id="userAvatar">👤</div>
      <div>
        <p class="bold" id="userName">Vedant Patil</p>
        <p class="small" id="userDigitalID">Digital ID #12345</p>
      </div>
    </div>
    <div class="info-grid">
      <div class="info-card green">✅ Safety Score: High</div>
      <div class="info-card yellow" id="userTrip">✈ Trip Location: Delhi → Guwahati</div>
      <div class="info-card red">📍 Geo-Fence: Safe Zone</div>
    </div>
    <!-- Dashboard Places Gallery - uses your provided images -->
    <div class="places-gallery">
      <div class="place-card">
        <div class="place-img-wrap"><img src="https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=1152&q=80" alt="Victoria Memorial"></div>
        <div class="place-desc"><b>Victoria Memorial</b><br/>Kolkata, West Bengal</div>
      </div>
      <div class="place-card">
        <div class="place-img-wrap"><img src="https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=324&q=80" alt="Randha Falls"></div>
        <div class="place-desc"><b>Randha Falls</b><br/>Maharashtra</div>
      </div>
      <div class="place-card">
        <div class="place-img-wrap"><img src="https://images.unsplash.com/photo-1502086223501-7ea6ecd79368?auto=format&fit=crop&w=288&q=80" alt="Umbrella Falls"></div>
        <div class="place-desc"><b>Umbrella Falls</b><br/>Maharashtra</div>
      </div>
      <div class="place-card">
        <div class="place-img-wrap"><img src="https://images.unsplash.com/photo-1500534314209-a25ddb2bd429?auto=format&fit=crop&w=1120&q=80" alt="Taj Mahal"></div>
        <div class="place-desc"><b>Taj Mahal</b><br/>Agra, UP</div>
      </div>
    </div>
    <nav class="bottom-nav">
      <div class="menu">
        <button onclick="showPage('dashboard')">Home</button>
        <button onclick="showPage('map')">Map</button>
        <button onclick="showPage('panic')">Panic</button>
        <button onclick="showPage('tracking')">Tracking</button>
        <button onclick="showPage('landing')">Logout</button>
      </div>
    </nav>
  </div>

  <!-- Map Page -->
  <div id="map" class="page">
    <h1 class="title">Map with Alerts</h1>
    <div id="mapContainer">[Map Simulation]</div>
    <div style="margin-top:10px;">
      <button onclick="alert('⚠️ You are entering a high-risk zone. Please proceed with caution.')">Simulate Alert</button>
    </div>
    <div class="menu">
      <button onclick="showPage('dashboard')">Home</button>
      <button onclick="showPage('map')">Map</button>
      <button onclick="showPage('panic')">Panic</button>
      <button onclick="showPage('tracking')">Tracking</button>
      <button onclick="showPage('landing')">Logout</button>
    </div>
  </div>

  <!-- Panic Page -->
  <div id="panic" class="page">
    <h1 class="title">🚨 Panic Button</h1>
    <button class="panic-btn" onclick="alert('Help Alert Sent! Location shared with Police & Family.')">🚨 PANIC – Send Help</button>
    <div class="menu">
      <button onclick="showPage('dashboard')">Home</button>
      <button onclick="showPage('map')">Map</button>
      <button onclick="showPage('panic')">Panic</button>
      <button onclick="showPage('tracking')">Tracking</button>
      <button onclick="showPage('landing')">Logout</button>
    </div>
  </div>

  <!-- Tracking Page -->
  <div id="tracking" class="page">
    <h1 class="title">Family Tracking</h1>
    <label>
      <input type="checkbox" id="trackingToggle" onchange="toggleTracking()"> Share My Live Location
    </label>
    <p id="trackingStatus">Tracking OFF</p>
    <div class="menu">
      <button onclick="showPage('dashboard')">Home</button>
      <button onclick="showPage('map')">Map</button>
      <button onclick="showPage('panic')">Panic</button>
      <button onclick="showPage('tracking')">Tracking</button>
      <button onclick="showPage('landing')">Logout</button>
    </div>
  </div>

  <!-- Police Login -->
  <div id="loginPage" class="page">
    <div class="card">
      <div class="form-title">Police/Tourism Dept Login</div>
      <input type="text" placeholder="Username" />
      <input type="password" placeholder="Password" />
      <button onclick="login()">Login</button>
    </div>
  </div>

  <!-- Police Dashboard -->
  <div id="dashboardPage" class="page">
    <h1 class="title">Police Dashboard</h1>
    <h3>Heatmap: Real-time Tourist Clusters</h3>
    <div class="dashboard-card">[Heatmap Simulation]</div>
    <section class="panel">
      <h3>👤 Tourist Records</h3>
      <div class="police-dashboard-table-container">
        <table id="policeTouristTable">
          <tr>
            <th>Digital ID</th>
            <th>Name</th>
            <th>Language</th>
            <th>Trip Location</th>
            <th class="date-col">Start Date</th>
            <th class="date-col">End Date</th>
            <th>Alert History</th>
          </tr>
          <tr>
            <td>#12345</td>
            <td>Vedant Patil</td>
            <td>English</td>
            <td>Guwahati</td>
            <td class="date-col">2025-09-21</td>
            <td class="date-col">2025-09-28</td>
            <td>✅ No Alerts</td>
          </tr>
          <tr>
            <td>#12325</td>
            <td>Aditya Deshmukh</td>
            <td>मराठी (Marathi)</td>
            <td>Bhandardara</td>
            <td class="date-col">2025-09-20</td>
            <td class="date-col">2025-09-23</td>
            <td>🚨 Panic Triggered</td>
          </tr>
        </table>
      </div>
    </section>
    <h3>Alerts Panel</h3>
    <div class="dashboard-card">🚨 Panic Alert from Tourist ID 12325</div>
    <button onclick="alert('E-FIR Generated Successfully')">Generate E-FIR</button><br><br>
    <button onclick="logout()">Logout</button>
    <section class="panel alerts">
      <h3>🚨 Alerts Panel</h3>
      <ul>
        <li>⚠ Tourist #12325 triggered Panic at 10:35 AM</li>
        <li>❌ Tourist #12325 inactive for 3 hours</li>
      </ul>
    </section>
    <section class="panel">
      <h3>📸 Police Feedback Highlights</h3>
      <div class="slideshow-container">
        <div class="slides"><img src="IMG-20250918-WA0037.jpg" alt="Slide 1"></div>
        <div class="slides"><img src="IMG-20250918-WA0033.jpg" alt="Slide 2"></div>
        <div class="slides"><img src="IMG-20250918-WA0023.jpg" alt="Slide 3"></div>
        <div class="slides"><img src="IMG-20250918-WA0040.jpg" alt="Slide 4"></div>
      </div>
    </section>
  </div>

  <script>
    // Tourist data storage for Police Dashboard
    let touristRecords = [
      { id: "#12345", name: "Vedant Patil", lang: "English", location: "Guwahati", startDate: "2025-09-21", endDate: "2025-09-28", alert: "✅ No Alerts" },
      { id: "#12325", name: "Aditya Deshmukh", lang: "मराठी (Marathi)", location: "Bhandardara", startDate: "2025-09-20", endDate: "2025-09-23", alert: "🚨 Panic Triggered" }
    ];

    function updatePoliceTouristTable() {
      const table = document.getElementById('policeTouristTable');
      // Remove all rows except header
      while (table.rows.length > 1) table.deleteRow(1);
      touristRecords.forEach(tourist => {
        const row = table.insertRow();
        row.insertCell(0).textContent = tourist.id;
        row.insertCell(1).textContent = tourist.name;
        row.insertCell(2).textContent = tourist.lang;
        row.insertCell(3).textContent = tourist.location;
        const sd = row.insertCell(4);
        sd.textContent = tourist.startDate;
        sd.className = "date-col";
        const ed = row.insertCell(5);
        ed.textContent = tourist.endDate;
        ed.className = "date-col";
        row.insertCell(6).textContent = tourist.alert;
      });
    }

    // Show/Hide Pages
    function showPage(pageId) {
      ["landing","login","dashboard","map","panic","tracking","loginPage","dashboardPage","idCardPage"]
        .forEach(id => {
          let el = document.getElementById(id);
          if (el) el.style.display = "none";
        });
      document.getElementById(pageId).style.display = "block";
      if(pageId === "dashboardPage") updatePoliceTouristTable();
    }
    function login() { showPage("dashboardPage"); }
    function logout() { showPage("landing"); }
    // OTP Simulation for Tourist Login
    function sendOtp() {
      document.getElementById("sendOtpBtn").style.display = "none";
      document.getElementById("aadhaarInput").readOnly = true;
      document.getElementById("otpSection").style.display = "block";
    }
    // File upload preview logic
    let selectedPhotoDataUrl = '';
    const photoInput = document.getElementById('photoUpload');
    const photoPreview = document.getElementById('photoPreview');
    const fileLabel = document.getElementById('fileLabel');
    if (photoInput) {
      photoInput.addEventListener('change', function(e) {
        if (this.files && this.files[0]) {
          const reader = new FileReader();
          reader.onload = function(evt) {
            selectedPhotoDataUrl = evt.target.result;
            photoPreview.innerHTML = `<img src="${selectedPhotoDataUrl}" alt="Photo Preview">`;
            fileLabel.classList.add('selected');
          };
          reader.readAsDataURL(this.files[0]);
        } else {
          selectedPhotoDataUrl = '';
          photoPreview.innerHTML = '';
          fileLabel.classList.remove('selected');
        }
      });
    }
    function formatDate(iso) {
      if (!iso) return '';
      const d = new Date(iso);
      if (isNaN(d)) return '';
      return `${d.getDate().toString().padStart(2, '0')} ${d.toLocaleString('en', {month:'short'})} ${d.getFullYear()}`;
    }
    function randomID() {
      const chars = 'abcdef1234567890';
      let tx = '';
      for(let i=0; i<12; i++) tx += chars[Math.floor(Math.random()*chars.length)];
      return '0x' + tx;
    }
    function qrCodeData(name, id) {
      const url = encodeURIComponent(`TouristID|${name}|${id}`);
      return `https://chart.googleapis.com/chart?cht=qr&chs=140x140&chl=${url}`;
    }
    function generateDigitalID() {
      // Get form values
      const aadhaar = document.getElementById('aadhaarInput').value.trim();
      const otp = document.getElementById('otpInput').value.trim();
      const name = document.getElementById('nameInput').value.trim();
      const language = document.getElementById('languageInput').value;
      const location = document.getElementById('locationInput').value.trim();
      const startDate = document.getElementById('startDateInput').value;
      const endDate = document.getElementById('endDateInput').value;
      const emergency = document.getElementById('emergencyInput').value.trim();
      if (!aadhaar || !otp || !name || !language || !location || !startDate || !endDate || !emergency || !selectedPhotoDataUrl) {
        alert('Please fill all fields and upload your photo.');
        return;
      }
      if (new Date(startDate) > new Date(endDate)) {
        alert('End date must be after start date.');
        return;
      }
      // Simulate digital ID
      const blockchainId = randomID();
      const valid = `${formatDate(startDate)} - ${formatDate(endDate)}`;
      const qrSrc = qrCodeData(name, aadhaar);
      // Add tourist to police dashboard
      const newId = "#" + Math.floor(10000 + Math.random() * 89999);
      touristRecords.push({
        id: newId,
        name: name,
        lang: language,
        location: location,
        startDate: startDate,
        endDate: endDate,
        alert: "✅ No Alerts"
      });
      // Render digital ID card and show the idCardPage
      const cardHTML = `
        <div class="container id-card-appear">
          <div class="blockchain-badge">🔗 Blockchain ID: <span style="font-size:0.98em;">${blockchainId}</span></div>
          <div class="id-title">Your Digital Tourist ID</div>
          <div class="subtitle">Tamper-proof, secure, and traveler-friendly identity for your journey</div>
          <div class="id-card-demo">
            <img class="id-photo" src="${selectedPhotoDataUrl}" alt="Tourist Photo">
            <div class="id-info">
              <strong>${name}</strong>
              Aadhaar/Passport: ${aadhaar}<br>
              Preferred Language: ${language}<br>
              Trip Location: ${location}<br>
              Valid: ${valid}<br>
              Emergency: <span style="color:#fe4b60">${emergency}</span>
            </div>
            <div class="qr-code">
              <img src="${qrSrc}" alt="QR Code" title="Tourist ID QR">
            </div>
          </div>
          <div class="issue-locations">
            Issued at:
            <span>Airports</span>
            <span>Hotels</span>
            <span>Check-posts</span>
          </div>
          <button style="margin-top:18px;" onclick="goToDashboardFilled('${name}','${aadhaar}','${location}')">Go to Dashboard</button>
        </div>
      `;
      document.getElementById('idCardArea').innerHTML = cardHTML;
      showPage('idCardPage');
      setTimeout(() => {
        document.getElementById('idCardArea').scrollIntoView({behavior:'smooth'});
      }, 100);
    }
    function goToDashboardFilled(name,aadhaar,location) {
      document.getElementById('userName').innerText = name;
      document.getElementById('userDigitalID').innerText = `Digital ID ${aadhaar}`;
      document.getElementById('userTrip').innerText = `✈ Trip Location: ${location}`;
      showPage('dashboard');
    }
    function goToDashboard() { showPage("dashboard"); }
    function toggleTracking() {
      let status = document.getElementById("trackingStatus");
      status.innerText = document.getElementById("trackingToggle").checked ? "Tracking ON" : "Tracking OFF";
    }
    // Slideshow
    let slideIndex = 0;
    function showSlides() {
      let slides = document.getElementsByClassName("slides");
      for (let i = 0; i < slides.length; i++) slides[i].style.display = "none";
      slideIndex++;
      if (slideIndex > slides.length) { slideIndex = 1 }
      slides[slideIndex-1].style.display = "block";
      setTimeout(showSlides, 3000);
    }
    showSlides();
    // ...existing code...
// Background slideshow logic
const bgImages = [
  "https://images.unsplash.com/photo-1464983953574-0892a716854b?auto=format&fit=crop&w=1152&q=80", // Tourist 1
  "https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1152&q=80", // Tourist 2
  "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=1152&q=80", // Police
  "https://images.unsplash.com/photo-1502086223501-7ea6ecd79368?auto=format&fit=crop&w=1152&q=80", // Tourist 3
  "https://images.unsplash.com/photo-1500534314209-a25ddb2bd429?auto=format&fit=crop&w=1152&q=80"  // Tourist 4
];
let bgIdx = 0;
const bgSlideshow = document.getElementById('bgSlideshow');
function updateBgSlideshow() {
  bgSlideshow.style.backgroundImage = `url('${bgImages[bgIdx]}')`;
  bgIdx = (bgIdx + 1) % bgImages.length;
}
updateBgSlideshow();
setInterval(updateBgSlideshow, 3500);
// ...existing code...
  </script>
</body>
</html>